<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">


    <import resource="classpath:META-INF/spring/it-state-machine-connection-test-transitions.xml"/>

    <!-- =============================== -->
    <!-- STATE MACHINE -->
    <bean id="stateMachine" class="org.suggs.test.sandbox.statemachine.impl.StateMachineImpl">
        <constructor-arg ref="initialState"/>
    </bean>

    <bean id="stateMap" class="java.util.HashMap">
        <constructor-arg>
            <map>
                <entry key="INITIAL" value-ref="initialState"/>
                <entry key="CONNECTED" value-ref="connectedState"/>
                <entry key="DISCONNECTED" value-ref="disconnectedState"/>
            </map>
        </constructor-arg>
    </bean>

    <!-- =============================== -->
    <!-- STATES -->
    <bean id="initialState" class="org.suggs.test.sandbox.statemachine.impl.StateImpl">
        <constructor-arg value="Connection:Initial"/>
    </bean>

    <bean id="disconnectedState" class="org.suggs.test.sandbox.statemachine.impl.StateImpl">
        <constructor-arg value="Connection:Disconnected"/>
    </bean>

    <bean id="connectingState" class="org.suggs.test.sandbox.statemachine.impl.StateImpl">
        <constructor-arg value="Connection:ConnectionInProgress"/>
    </bean>

    <bean id="connectedState" class="org.suggs.test.sandbox.statemachine.impl.StateImpl">
        <constructor-arg value="Connection:Connected"/>
    </bean>

    <bean id="failedState" class="org.suggs.test.sandbox.statemachine.impl.StateImpl">
        <constructor-arg value="Connection:Failed"/>
    </bean>

    <bean id="disconnectingState" class="org.suggs.test.sandbox.statemachine.impl.StateImpl">
        <constructor-arg value="Connection:DisconnectionInProgress"/>
    </bean>

</beans>